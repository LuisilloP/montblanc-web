---
type Item = { title: string; image: string; alt: string };
type Props = { data: { title: string; note: string; items: Item[] } };

const { data } = Astro.props as Props;
---

<section id="antes-despues" class="container-wide space-y-8 py-16 lg:space-y-12 lg:py-24" data-reveal>
  <div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
    <div class="space-y-2">
      <p class="pill w-fit text-[11px] tracking-[0.2em]">Antes y después</p>
      <h2 class="text-4xl leading-tight sm:text-5xl">{data.title}</h2>
      <p class="text-lg leading-relaxed text-(--charcoal)/70 sm:text-xl">{data.note}</p>
    </div>
    <div class="rounded-full border text-center border-[rgba(176,128,80,0.2)] bg-white/80 px-4 py-2 text-sm text-(--charcoal)/70">
      Resultados de referencia · Solicita tu plan personalizado
    </div>
  </div>

  <div class="grid gap-6 md:grid-cols-2">
    {data.items.map((item, idx) => (
      <article
        class="group relative overflow-hidden rounded-3xl border border-[rgba(176,128,80,0.18)] bg-white/60 shadow-md transition hover:-translate-y-1 hover:shadow-xl reveal-on-scroll"
        data-reveal
        data-reveal-delay={`${idx * 140}ms`}
        aria-label={`Caso ${item.title}`}
      >
        <img
          src={item.image}
          alt={item.alt}
          loading="lazy"
          decoding="async"
          class="h-full w-full object-cover"
          style="aspect-ratio: 3 / 4;"
        />
        <div class="pointer-events-none absolute inset-0 bg-linear-to-b from-transparent via-transparent to-[rgba(32,32,32,0.55)] opacity-80 transition group-hover:opacity-90" />
        <div class="absolute bottom-4 left-4 right-4 flex items-start text-white">
          <div>
            <p class="text-sm uppercase tracking-[0.18em] text-[rgba(255,255,255,0.85)]">Caso</p>
            <p class="text-lg font-semibold">{item.title}</p>
          </div>
        </div>
      </article>
    ))}
  </div>
</section>
