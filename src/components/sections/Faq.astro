---
import { Icon } from 'astro-icon/components';

type Item = { question: string; answer: string };
type Props = { data: { title: string; items: Item[] } };

const { data } = Astro.props as Props;
---

<section id="faq" class="container-wide space-y-8 py-16 lg:space-y-12 lg:py-24" data-reveal>
  <div class="space-y-3">
    <p class="pill w-fit text-[11px] tracking-[0.2em]">Preguntas frecuentes</p>
    <h2 class="text-4xl leading-tight sm:text-5xl">{data.title}</h2>
    <p class="text-lg text-[var(--charcoal)]/70">Respuestas rápidas. Ajusta la información según tus protocolos.</p>
  </div>

  <div class="space-y-4">
    {data.items.map((item, idx) => (
      <details
        class="group rounded-2xl border border-[rgba(176,128,80,0.15)] bg-white/70 px-6 py-5 shadow-sm open:shadow-md reveal-on-scroll"
        data-reveal
        data-reveal-delay={`${idx * 120}ms`}
      >
        <summary class="flex cursor-pointer items-center justify-between gap-3 text-xl font-semibold text-[var(--charcoal)]">
          <span>{item.question}</span>
          <span class="flex h-8 w-8 items-center justify-center rounded-full shrink-0 bg-[rgba(176,128,80,0.12)] text-[var(--goldLight)]">
            <Icon name="lucide:plus" class="h-4 w-4 transition group-open:rotate-45" stroke-width="1.8" />
          </span>
        </summary>
        <p class="mt-3 text-base leading-relaxed text-[var(--charcoal)]/75">{item.answer}</p>
      </details>
    ))}
  </div>
</section>
